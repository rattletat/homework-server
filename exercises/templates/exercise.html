{% extends 'base.html' %}
{% load markdown_extras %}

{% block sub_header_text%}Programmieraufgabe {{ exercise.number }}{% endblock %}


{% block jumbotron_text %}
<span id="id_description">
  {{ exercise.description | markdown | safe }}
</span>
{% endblock %}

{% block table %}
<tr id="id_status">
  <td>Status:</td>
  {% if exercise.expired %}
  <td>Abgabe beendet!</td>
  {% elif exercise.released %}
  <td>Zur Abgabe bereit!</td>
  {% else %}
  <td>Nicht veröffentlicht!</td>
  {% endif %}
</tr>
<tr id="deadline">
  <td>Deadline:</td>
  <td>{{ exercise.deadline }}</td>
</tr>
{% endblock %}

{% block post_table_info %}
{% if user.is_authenticated %}
<form
  action="{% url 'exercises:view_exercise' exercise.number %}"
  method="POST"
  enctype="multipart/form-data"
  align="center"
>
  {% csrf_token %}
  <div class="form-group file">
    <span class="alert alert-secondary" role="alert">
      <label class="control-label">Hier die Datei auswählen: </label>
      {{ form.file }}
    </span>
  </div>
  <div class="form-group">
    <br />
    <button type="submit" class="btn btn-primary">Abschicken</button>
  </div>
</form>
{% else %}
<h4>Du musst dich erst anmelden um eine Abgabe zu erstellen!</h4>
{% endif %}
{% endblock %}
